<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head th:replace="~{fragments/header :: head}">
    <title>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞—É–¥–∏—Ç–æ—Ä–∏—è–º–∏ - –†–£–¢ –ù–∞–≤–∏–≥–∞—Ç–æ—Ä</title>
</head>
<body>
    <header th:replace="~{fragments/header :: header}"></header>

    <main class="main-content">
        <div class="admin-container">
            <!-- Admin Sidebar -->
            <aside class="admin-sidebar">
                <nav class="admin-nav">
                    <a th:href="@{/admin}" class="admin-nav-link">–ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è</a>
                    <a th:href="@{/admin/bookings}" class="admin-nav-link">–í—Å–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è</a>
                    <a th:href="@{/admin/calendar}" class="admin-nav-link">–ö–∞–ª–µ–Ω–¥–∞—Ä—å</a>
                    <a th:href="@{/admin/reviews}" class="admin-nav-link">–û—Ç–∑—ã–≤—ã</a>
                    <a th:href="@{/admin/dispatcher-issues}" class="admin-nav-link">–°–æ–æ–±—â–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã</a>
                    <a sec:authorize="hasRole('ADMIN')" th:href="@{/admin/rooms}" class="admin-nav-link active">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞—É–¥–∏—Ç–æ—Ä–∏—è–º–∏</a>
                </nav>
            </aside>

            <!-- Admin Content -->
            <div class="admin-content">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                    <h1>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞—É–¥–∏—Ç–æ—Ä–∏—è–º–∏</h1>
                    <a th:href="@{/admin/rooms/create}" class="btn btn-primary">–°–æ–∑–¥–∞—Ç—å –∞—É–¥–∏—Ç–æ—Ä–∏—é</a>
                </div>

                <div th:if="${success}" class="alert alert-success">
                    <span th:text="${success}">–£—Å–ø–µ—à–Ω–æ</span>
                </div>

                <div th:if="${error}" class="alert alert-error">
                    <span th:text="${error}">–û—à–∏–±–∫–∞</span>
                </div>

                <p style="color: var(--text-secondary); margin-bottom: 20px;">
                    –¢–æ–ª—å–∫–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –º–æ–∂–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∞—É–¥–∏—Ç–æ—Ä–∏–∏.
                </p>

                <!-- Rooms List -->
                <div class="bookings-table-container">
                    <table class="admin-table">
                        <thead>
                            <tr>
                                <th>–ù–æ–º–µ—Ä</th>
                                <th>–¢–∏–ø</th>
                                <th>–í–º–µ—Å—Ç–∏–º–æ—Å—Ç—å</th>
                                <th>–ö–æ—Ä–ø—É—Å / –≠—Ç–∞–∂</th>
                                <th>–û–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ</th>
                                <th>–°—Ç–∞—Ç—É—Å</th>
                                <th>–î–µ–π—Å—Ç–≤–∏—è</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr th:each="room : ${rooms}">
                                <td><a th:href="@{/rooms/{id}(id=${room.id})}" th:text="${room.number}">1234</a></td>
                                <td th:text="${room.roomType.displayName}">–õ–µ–∫—Ü–∏–æ–Ω–Ω–∞—è</td>
                                <td th:text="${room.capacity}">30</td>
                                <td th:text="${room.building} + ' / ' + ${room.floor}">–ê / 1</td>
                                <td>
                                    <span th:if="${room.hasComputers}">üíª</span>
                                    <span th:if="${room.hasProjector}">üìΩ</span>
                                    <span th:if="${room.hasWhiteboard}">üìù</span>
                                </td>
                                <td>
                                    <span th:if="${room.isActive}" class="badge badge-success">–ê–∫—Ç–∏–≤–Ω–∞</span>
                                    <span th:unless="${room.isActive}" class="badge badge-secondary">–ù–µ–∞–∫—Ç–∏–≤–Ω–∞</span>
                                </td>
                                <td>
                                    <a th:href="@{/admin/rooms/{id}/edit(id=${room.id})}" class="btn btn-sm btn-outline">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å</a>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </main>

    <footer th:replace="~{fragments/footer :: footer}"></footer>

    <script th:src="@{/js/main.js}"></script>
</body>
</html>
